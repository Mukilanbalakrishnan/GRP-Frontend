<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Details - Brand.</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            blue: '#0066FF',
                            dark: '#111827',
                            darkblue: '#1E3A8A',
                            cyan: '#67E8F9',
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link href="../services.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    #video-grid::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    #video-grid {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }

    @media (min-width: 768px) {
  #video-track {
    display: grid !important;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 1.5rem;
    transform: none !important;
  }
}

</style>

<body class="bg-gray-50 font-sans antialiased">
    <!-- Navbar -->
    <div id="navbar-container"></div>
    <div class="h-20"></div>

    <!-- MAIN CONTENT -->
    <main id="main-content" class="opacity-0 transition-opacity duration-500">
        <!-- Service Hero -->
        <section class="relative h-64 flex items-center justify-center overflow-hidden">
            <!-- Reflection Image -->
            <div class="absolute inset-0 z-0">
                <img id="hero-image" src="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-brand-darkblue/90 mix-blend-multiply"></div>
            </div>
            <div class="relative z-10 text-center px-4">
                <h1 id="hero-title" class="text-3xl md:text-5xl font-bold text-white mb-2">Service Title</h1>
                <!-- <p id="hero-subtitle" class="text-blue-100 text-lg">Service Subtitle</p> -->
            </div>
        </section>

        <!-- About Service Section -->
        <section class="max-w-7xl mx-auto px-4 py-10 md:py-24">
            <div class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
                <!-- Circle Image (Left) -->
                <div class="w-full md:w-1/2 flex justify-center">
                    <div
                        class="w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-4 border-white shadow-xl relative z-10">
                        <img id="about-image" src="" alt="Service Image"
                            class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-700">
                    </div>
                </div>

                <!-- Text Box (Right) -->
                <div class="w-full md:w-1/2">
                    <div
                        class="bg-white text-gray-800 rounded-3xl p-6 md:p-12 shadow-xl border border-gray-100 relative overflow-hidden">
                        <!-- Decorative bg circle -->
                        <div class="absolute -top-10 -right-10 w-32 h-32 bg-blue-50 rounded-full opacity-50 blur-2xl">
                        </div>

                        <h2 id="about-title" class="text-3xl font-bold mb-6 relative z-10 text-gray-900">About Service
                        </h2>
                        <p id="about-description" class="text-gray-600 leading-relaxed mb-6 relative z-10">
                            Description text...
                        </p>
                        <ul id="bullet-points" class="space-y-3 mb-8 relative z-10">
                            <!-- Bullets will be injected here -->
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials (Video) Section -->
        <section class="py-12 md:py-16 bg-blue-50/50">
            <div class="max-w-7xl mx-auto px-4">
                <!-- Header -->
                <div
                    class="bg-white text-blue-900 py-4 px-8 rounded-lg mb-12 shadow-sm border border-gray-100 w-full md:w-fit mx-auto md:mx-0 text-center md:text-left">
                    <h2 class="text-2xl font-bold">Testimonial (Video)</h2>
                </div>

                <!-- Video Grid -->
                <div class="relative overflow-hidden">
  <div class="relative overflow-hidden">
  <div
    id="video-track"
    class="flex transition-transform duration-700 ease-in-out"
  ></div>
</div>

</div>


            </div>
        </section>

        <!-- Book a Service Section -->
        <section class="py-12 pb-20 md:py-16 md:pb-24 max-w-7xl mx-auto px-4">
            <!-- Header -->
            <div
                class="bg-blue-50 text-blue-900 py-4 px-8 rounded-lg mb-12 shadow-sm border border-blue-100 w-full md:w-full text-center">
                <h2 class="text-2xl font-bold">Book a Service</h2>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-12 md:gap-24">
                <!-- Diamond Image (Left) -->
                <div class="w-full md:w-1/2 flex justify-center py-10">
                    <div class="relative w-64 h-64 md:w-80 md:h-80">
                        <!-- Diamond Container -->
                        <div
                            class="absolute inset-0 overflow-hidden transform rotate-45 rounded-3xl border-4 border-blue-200 shadow-xl bg-white">
                            <img id="booking-image" src=""
                                class="w-[142%] h-[142%] max-w-none absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 -rotate-45 object-cover">
                        </div>
                    </div>
                </div>

                <!-- Booking Form (Right) -->
                <div class="w-full md:w-1/2">
                    <div class="bg-blue-50 rounded-3xl p-8 shadow-lg border border-blue-100">
                        <form id="enquiryForm" class="space-y-4">
    <div>
        <input id="enquiry-name" type="text" placeholder="Your Name"
            class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
    </div>

    <div>
        <input id="enquiry-phone" type="tel" placeholder="Phone Number"
            class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
    </div>

    <div>
        <input id="enquiry-email" type="email" placeholder="E-Mail"
            class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
    </div>

    <div>
        <textarea id="enquiry-message" rows="3" placeholder="Message"
            class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"></textarea>
    </div>

    <button type="submit"
        class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-md transition-all transform hover:-translate-y-0.5">
        Submit Request
    </button>
</form>

                    </div>
                </div>
            </div>

            <!-- Back Link -->
            <div class="mt-8 flex justify-center">
    <button
        type="button"
        onclick="window.location.href='../services.html'"
        class="inline-flex items-center gap-2
               px-6 py-3
               rounded-full
               bg-white
               text-gray-600 font-medium
               border border-gray-200
               shadow-sm
               hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200
               transition-all duration-200
               active:scale-95
               focus:outline-none"
    >
        <i class="ph-bold ph-arrow-left"></i>
        Back to Services
    </button>
</div>


        </section>
    </main>

    <!-- Video Modal -->
    <div id="video-modal" class="fixed inset-0 z-[100] hidden items-center justify-center">
        <!-- Backdrop -->
        <div id="modal-backdrop" class="absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity opacity-0">
        </div>

        <!-- Modal Content -->
        <div id="modal-content"
            class="relative w-full max-w-5xl mx-4 transform scale-95 opacity-0 transition-all duration-300">
            <!-- Close Button -->
            <button id="close-modal" class="absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors">
                <i class="ph-bold ph-x text-3xl"></i>
            </button>

            <!-- Video Player -->
            <div class="aspect-video bg-black rounded-xl overflow-hidden shadow-2xl ring-1 ring-white/10">
                <video id="modal-video" class="w-full h-full" controls playsinline>
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>

    <div class="pt-10">
        <div id="footer-container" class="gallery-footer-wrapper"></div>
    </div>

    <script src="/env.js"></script>
    <script src="../services.js"></script>
    <script type="module" src="/main.js"></script>
    <script>


// const API_BASE_URL = window.ENV.API_BASE_URL;

if (!API_BASE_URL) {
  console.error("❌ API_BASE_URL not found");
}

document.addEventListener("DOMContentLoaded", async () => {

    const params = new URLSearchParams(window.location.search);
    const serviceId = params.get("id");

    if (!serviceId) return showNotFound();

    try {
        const res = await fetch(
            `${API_BASE_URL}/api/main_services/back-service.php?id=${serviceId}`
        );
        const result = await res.json();

        if (!result.status) return showNotFound();

        const data = result.data;

        // HERO
        document.title = `${data.title} - Brand`;
        document.getElementById("hero-title").textContent = data.title;
        // document.getElementById("hero-subtitle").textContent = data.shortDesc || "";
        document.getElementById("hero-image").src =
            API_BASE_URL + data.thumbnail;

        // ABOUT
        document.getElementById("about-title").textContent = data.aboutTitle;
        document.getElementById("about-description").textContent = data.aboutDescription;
        document.getElementById("hero-image").src = imgUrl(data.thumbnail);
document.getElementById("about-image").src = imgUrl(data.thumbnail);
document.getElementById("booking-image").src = imgUrl(data.thumbnail);
const bulletList = document.getElementById("bullet-points");


bulletList.innerHTML = "";

const features = Array.isArray(data.features) ? data.features : [];
features.forEach(point => {
    bulletList.innerHTML += `
        <li class="flex items-center gap-3 text-gray-700">
            <i class="ph-bold ph-check text-blue-600"></i>${point}
        </li>
    `;
});

// VIDEOS
const videoTrack = document.getElementById("video-track");
videoTrack.innerHTML = "";

const videos = Array.isArray(data.videos) ? data.videos : [];
videos.forEach(url => {
    const id = url.match(/(?:v=|youtu\.be\/|shorts\/)([^?&/]+)/)?.[1];

    if (!id) return;

    videoTrack.innerHTML += `
        <div class="aspect-video bg-black rounded-xl overflow-hidden cursor-pointer"
             onclick="openYoutube('${id}')">
            <img src="https://img.youtube.com/vi/${id}/hqdefault.jpg"
                 class="w-full h-full object-cover">
        </div>
    `;
});


        document.getElementById("main-content").classList.remove("opacity-0");

    } catch (e) {
        console.error(e);
        showNotFound();
    }
});

function openYoutube(id) {
    window.open(`https://www.youtube.com/watch?v=${id}`, "_blank");
}

function showNotFound() {
    document.getElementById("main-content").innerHTML = `
        <div class="text-center py-24">
            <h2 class="text-3xl font-bold">Service Not Found</h2>
            <a href="../services.html" class="text-blue-600 underline">
                Back to Services
            </a>
        </div>`;
}

function imgUrl(path) {
  if (!path) return "";
  return window.ENV.API_BASE_URL.replace(/\/$/, "") + "/" + path.replace(/^\//, "");
}



const enquiryForm = document.getElementById("enquiryForm");

enquiryForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = document.getElementById("enquiry-name").value.trim();
    const phone = document.getElementById("enquiry-phone").value.trim();
    const email = document.getElementById("enquiry-email").value.trim();
    const message = document.getElementById("enquiry-message").value.trim();

    if (!name || !phone || !email || !message) {
        alert("Please fill all fields");
        return;
    }

    try {
        const res = await fetch(
            `${API_BASE_URL}/api/enquiry-create.php`,
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    name,
                    phone,
                    email,
                    message
                })
            }
        );

        const data = await res.json();

        if (!data.status) {
            alert(data.message || "Submission failed");
            return;
        }

        alert("Enquiry submitted successfully ✅");
        enquiryForm.reset();

    } catch (error) {
        console.error("Enquiry error:", error);
        alert("Server error. Please try again later.");
    }
});



</script>

    

</body>

</html>