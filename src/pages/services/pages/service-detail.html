<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Details - Brand.</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            blue: '#0066FF',
                            dark: '#111827',
                            darkblue: '#1E3A8A',
                            cyan: '#67E8F9',
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link href="../services.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    #video-grid::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    #video-grid {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }

    @media (min-width: 768px) {
  #video-track {
    display: grid !important;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 1.5rem;
    transform: none !important;
  }
}

</style>

<body class="bg-gray-50 font-sans antialiased">
    <!-- Navbar -->
    <div id="navbar-container"></div>
    <div class="h-20"></div>

    <!-- MAIN CONTENT -->
    <main id="main-content" class="opacity-0 transition-opacity duration-500">
        <!-- Service Hero -->
        <section class="relative h-64 flex items-center justify-center overflow-hidden">
            <!-- Reflection Image -->
            <div class="absolute inset-0 z-0">
                <img id="hero-image" src="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-brand-darkblue/90 mix-blend-multiply"></div>
            </div>
            <div class="relative z-10 text-center px-4">
                <h1 id="hero-title" class="text-3xl md:text-5xl font-bold text-white mb-2">Service Title</h1>
                <p id="hero-subtitle" class="text-blue-100 text-lg">Service Subtitle</p>
            </div>
        </section>

        <!-- About Service Section -->
        <section class="max-w-7xl mx-auto px-4 py-10 md:py-24">
            <div class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
                <!-- Circle Image (Left) -->
                <div class="w-full md:w-1/2 flex justify-center">
                    <div
                        class="w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-4 border-white shadow-xl relative z-10">
                        <img id="about-image" src="" alt="Service Image"
                            class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-700">
                    </div>
                </div>

                <!-- Text Box (Right) -->
                <div class="w-full md:w-1/2">
                    <div
                        class="bg-white text-gray-800 rounded-3xl p-6 md:p-12 shadow-xl border border-gray-100 relative overflow-hidden">
                        <!-- Decorative bg circle -->
                        <div class="absolute -top-10 -right-10 w-32 h-32 bg-blue-50 rounded-full opacity-50 blur-2xl">
                        </div>

                        <h2 id="about-title" class="text-3xl font-bold mb-6 relative z-10 text-gray-900">About Service
                        </h2>
                        <p id="about-description" class="text-gray-600 leading-relaxed mb-6 relative z-10">
                            Description text...
                        </p>
                        <ul id="bullet-points" class="space-y-3 mb-8 relative z-10">
                            <!-- Bullets will be injected here -->
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials (Video) Section -->
        <section class="py-12 md:py-16 bg-blue-50/50">
            <div class="max-w-7xl mx-auto px-4">
                <!-- Header -->
                <div
                    class="bg-white text-blue-900 py-4 px-8 rounded-lg mb-12 shadow-sm border border-gray-100 w-full md:w-fit mx-auto md:mx-0 text-center md:text-left">
                    <h2 class="text-2xl font-bold">Testimonial (Video)</h2>
                </div>

                <!-- Video Grid -->
                <div class="relative overflow-hidden">
  <div class="relative overflow-hidden">
  <div
    id="video-track"
    class="flex transition-transform duration-700 ease-in-out"
  ></div>
</div>

</div>


            </div>
        </section>

        <!-- Book a Service Section -->
        <section class="py-12 pb-20 md:py-16 md:pb-24 max-w-7xl mx-auto px-4">
            <!-- Header -->
            <div
                class="bg-blue-50 text-blue-900 py-4 px-8 rounded-lg mb-12 shadow-sm border border-blue-100 w-full md:w-full text-center">
                <h2 class="text-2xl font-bold">Book a Service</h2>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-12 md:gap-24">
                <!-- Diamond Image (Left) -->
                <div class="w-full md:w-1/2 flex justify-center py-10">
                    <div class="relative w-64 h-64 md:w-80 md:h-80">
                        <!-- Diamond Container -->
                        <div
                            class="absolute inset-0 overflow-hidden transform rotate-45 rounded-3xl border-4 border-blue-200 shadow-xl bg-white">
                            <img id="booking-image" src=""
                                class="w-[142%] h-[142%] max-w-none absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 -rotate-45 object-cover">
                        </div>
                    </div>
                </div>

                <!-- Booking Form (Right) -->
                <div class="w-full md:w-1/2">
                    <div class="bg-blue-50 rounded-3xl p-8 shadow-lg border border-blue-100">
                        <form class="space-y-4">
                            <div>
                                <input type="text" placeholder="Your Name"
                                    class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                            </div>
                            <div>
                                <input type="tel" placeholder="Phone Number"
                                    class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                            </div>
                            <div>
                                <select id="service-select"
                                    class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                                    <option value="water-line">Water Line Repair</option>
                                    <option value="gas-line">Gas Line Services</option>
                                    <option value="drain-cleaning">Drain Cleaning</option>
                                    <option value="faucet-leak">Faucet & Leak Repairs</option>
                                    <option value="remodeling">Remodeling Service</option>
                                    <option value="sewer-repair">Sewer Repair</option>
                                </select>
                            </div>
                            <div>
                                <textarea rows="3" placeholder="Message"
                                    class="w-full px-4 py-3 rounded-lg bg-white border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"></textarea>
                            </div>
                            <button type="button"
                                class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-md transition-all transform hover:-translate-y-0.5">
                                Submit Request
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Back Link -->
            <div class="mt-8 flex justify-center">
    <button
        type="button"
        onclick="window.location.href='../services.html'"
        class="inline-flex items-center gap-2
               px-6 py-3
               rounded-full
               bg-white
               text-gray-600 font-medium
               border border-gray-200
               shadow-sm
               hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200
               transition-all duration-200
               active:scale-95
               focus:outline-none"
    >
        <i class="ph-bold ph-arrow-left"></i>
        Back to Services
    </button>
</div>


        </section>
    </main>

    <!-- Video Modal -->
    <div id="video-modal" class="fixed inset-0 z-[100] hidden items-center justify-center">
        <!-- Backdrop -->
        <div id="modal-backdrop" class="absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity opacity-0">
        </div>

        <!-- Modal Content -->
        <div id="modal-content"
            class="relative w-full max-w-5xl mx-4 transform scale-95 opacity-0 transition-all duration-300">
            <!-- Close Button -->
            <button id="close-modal" class="absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors">
                <i class="ph-bold ph-x text-3xl"></i>
            </button>

            <!-- Video Player -->
            <div class="aspect-video bg-black rounded-xl overflow-hidden shadow-2xl ring-1 ring-white/10">
                <video id="modal-video" class="w-full h-full" controls playsinline>
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>

    <div class="pt-10">
        <div id="footer-container" class="gallery-footer-wrapper"></div>
    </div>

    <script src="../services.js"></script>
    <script type="module" src="/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const servicesData = {
                'water-line': {
                    title: "Water Line Repair",
                    subtitle: "Main line expertise",
                    heroImage: "https://images.unsplash.com/photo-1521207418485-99c705420785?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Water Line Repair",
                    aboutDescription: "Low water pressure or wet spots in your yard can indicate a main water line leak. We repair and replace damaged water lines to restore reliable, clean water supply to your home, ensuring the safety of your family.",
                    aboutImage: "https://images.unsplash.com/photo-1521207418485-99c705420785?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["Main Line Leak Detection", "Copper & PEX Piping", "Pressure Regulator Replacement"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1607472586893-edb57bdc0e39?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1542596594-649edbc13630?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" }
                    ]
                },
                'gas-line': {
                    title: "Gas Line Services",
                    subtitle: "Safe & Certified",
                    heroImage: "https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Gas Line Services",
                    aboutDescription: "Natural gas is efficient but dangerous if handled incorrectly. Our certified technicians safely install new gas lines for appliances and provide emergency leak detection and repair services for your peace of mind.",
                    aboutImage: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["New Gas Line for Stoves/Dryers", "BBQ Grill Gas Hookup", "Emergency Shut-off Services"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1585704032915-c3400ca199e7?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" }
                    ]
                },
                'drain-cleaning': {
                    title: "Drain Cleaning",
                    subtitle: "Restore proper flow today",
                    heroImage: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Drain Cleaning",
                    aboutDescription: "Stubborn clogs can cause backups and unpleasant odors. Using hydro-jetting and snake technology, we clear blockages deep within your plumbing system to ensure everything flows smoothly again.",
                    aboutImage: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["Hydro-jetting Technology", "Video Inspection", "Root Removal"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1585704032915-c3400ca199e7?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1521207418485-99c705420785?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" }
                    ]
                },
                'faucet-leak': {
                    title: "Faucet & Leak Repairs",
                    subtitle: "Stop wasting water and money",
                    heroImage: "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Faucet Repairs",
                    aboutDescription: "A dripping faucet or hidden pipe leak can waste gallons of water and cause significant structural damage over time. Our experienced team uses advanced technology to locate and fix leaks quickly, ensuring your home remains dry and efficient.",
                    aboutImage: "https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["Faucet repair and replacement", "Advanced Leak Detection", "Emergency Pipe Fixing"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1542596594-649edbc13630?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1558507652-2d9626c4e67a?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" }
                    ]
                },
                'remodeling': {
                    title: "Remodeling Service",
                    subtitle: "Transform your kitchen & bath",
                    heroImage: "https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Remodeling",
                    aboutDescription: "Ready for an upgrade? We specialize in installing modern plumbing fixtures, rerouting pipes, and ensuring your new kitchen or bathroom is both beautiful and functional. From luxury showers to gourmet kitchen sinks, we handle it all.",
                    aboutImage: "https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["Modern Fixture Installation", "Pipe Rerouting for New Layouts", "Appliance Hookups"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" }
                    ]
                },
                'sewer-repair': {
                    title: "Sewer Repair",
                    subtitle: "Trenchless solutions",
                    heroImage: "https://images.unsplash.com/photo-1607472586893-edb57bdc0e39?q=80&w=1600&auto=format&fit=crop",
                    aboutTitle: "About Sewer Repair",
                    aboutDescription: "Sewer line issues can be messy and disruptive. We use trenchless repair methods whenever possible to fix cracks, bellies, and collapses without destroying your yard or driveway.",
                    aboutImage: "https://images.unsplash.com/photo-1607472586893-edb57bdc0e39?q=80&w=800&auto=format&fit=crop",
                    bulletPoints: ["Camera Inspection & Diagnosis", "Trenchless Pipe Lining", "Minimal Excavation"],
                    videos: [
                        { thumbnail: "https://images.unsplash.com/photo-1607472586893-edb57bdc0e39?q=80&w=600&auto=format&fit=crop", src: "../videos/video 2.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1585704032915-c3400ca199e7?q=80&w=600&auto=format&fit=crop", src: "../videos/video 4.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1521207418485-99c705420785?q=80&w=600&auto=format&fit=crop", src: "../videos/video 1.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                        { thumbnail: "https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=600&auto=format&fit=crop", src: "../videos/video 3.mp4" },
                    ]
                }
            };

            const params = new URLSearchParams(window.location.search);
            const serviceId = params.get('service');
            const data = servicesData[serviceId];

            // Modal Logic
            const modal = document.getElementById('video-modal');
            const modalBackdrop = document.getElementById('modal-backdrop');
            const modalContent = document.getElementById('modal-content');
            const modalVideo = document.getElementById('modal-video');
            const closeModalBtn = document.getElementById('close-modal');

            function openModal(videoSrc) {
                modalVideo.src = videoSrc;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => {
                    modalBackdrop.classList.remove('opacity-0');
                    modalContent.classList.remove('opacity-0', 'scale-95');
                }, 10);
                modalVideo.play().catch(e => console.log('Auto-play prevented:', e));
            }

            function closeModal() {
                modalBackdrop.classList.add('opacity-0');
                modalContent.classList.add('opacity-0', 'scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    modalVideo.pause();
                    modalVideo.src = ''; 
                }, 300);
            }

            if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
            if (modalBackdrop) modalBackdrop.addEventListener('click', closeModal);
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal && !modal.classList.contains('hidden')) closeModal();
            });

            // SLIDER LOGIC VARIABLES
            let autoSlideInterval = null;
            let currentSlideIndex = 0;
            const videoTrack = document.getElementById('video-track');

            function startMobileSlider() {
                // If it's desktop, stop everything and reset
                if (window.innerWidth >= 768) {
                    stopMobileSlider();
                    if(videoTrack) videoTrack.style.transform = 'none'; // Reset transform
                    return;
                }

                // If timer already running, don't restart
                if (autoSlideInterval) return;

                const slideCount = videoTrack ? videoTrack.children.length : 0;
                
                autoSlideInterval = setInterval(() => {
                    currentSlideIndex++;
                    if (currentSlideIndex >= slideCount) {
                        currentSlideIndex = 0;
                    }
                    videoTrack.style.transform = `translateX(-${currentSlideIndex * 100}%)`;
                }, 3000); // 3 seconds per slide
            }

            function stopMobileSlider() {
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                    autoSlideInterval = null;
                }
            }

            // Populate Data
            if (data) {
                document.title = data.title + " - Brand.";
                document.getElementById('hero-title').textContent = data.title;
                document.getElementById('hero-subtitle').textContent = data.subtitle;
                document.getElementById('hero-image').src = data.heroImage;
                document.getElementById('about-title').textContent = data.aboutTitle;
                document.getElementById('about-description').textContent = data.aboutDescription;
                document.getElementById('about-image').src = data.aboutImage;
                document.getElementById('booking-image').src = data.aboutImage;

                const bulletList = document.getElementById('bullet-points');
                bulletList.innerHTML = '';
                data.bulletPoints.forEach(point => {
                    const li = document.createElement('li');
                    li.className = 'flex items-center gap-3 text-gray-700';
                    li.innerHTML = `<i class="ph-bold ph-check text-blue-600"></i> ${point}`;
                    bulletList.appendChild(li);
                });

                // Populate Video Grid
                if (videoTrack && data.videos) {
                    videoTrack.innerHTML = '';
                    data.videos.forEach(video => {
                        const videoCard = document.createElement('div');
                        // KEY FIX: min-w-full for mobile (to work with sliding), md:min-w-0 for desktop grid
                        videoCard.className = `
                            min-w-full md:min-w-0 
                            w-full md:w-auto 
                            aspect-video 
                            bg-blue-100 rounded-xl overflow-hidden 
                            shadow-md relative group cursor-pointer 
                            border border-blue-200 
                            shrink-0
                        `;
                        videoCard.innerHTML = `
                            <img src="${video.thumbnail}" class="w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="ph-fill ph-play-circle text-5xl text-blue-600 opacity-90 group-hover:scale-110 transition-transform shadow-lg rounded-full bg-white/20 backdrop-blur-sm p-2"></i>
                            </div>
                        `;
                        videoCard.addEventListener('click', () => openModal(video.src));
                        videoTrack.appendChild(videoCard);
                    });

                    // Start Slider Logic
                    startMobileSlider();
                    
                    // Add Resize Listener
                    window.addEventListener('resize', startMobileSlider);
                }

                document.getElementById('service-select').value = serviceId;
                document.getElementById('main-content').classList.remove('opacity-0');
            } else {
                document.getElementById('main-content').innerHTML = '<div class="text-center py-20"><h2 class="text-2xl font-bold">Service Not Found</h2><a href="../services.html" class="text-blue-600 hover:underline">Return to Services</a></div>';
                document.getElementById('main-content').classList.remove('opacity-0');
            }
        });
    </script>
    

</body>

</html>